"""文章表"""
type ArticleEntity{
	article_id: ID! @id
	title: String! 
	description: String! 
	thumbs: String! 
	icon: String! 
	"""文章的类型"""
	category: ArticleCategoryEntity! @relation(name: ArticleCategoryEntity)
	"""文章下面的评论"""
	comments: [ArticleCommentEntity]! @relation(name: ArticleCommentEntity)
	create_time: DateTime! @createdAt
	update_time: DateTime! @updatedAt
}
"""文章分类表"""
type ArticleCategoryEntity{
	article_category_id: ID! @id
	title: String! 
	name: String! 
	icon: String! 
	"""分类的上级"""
	parent: ArticleCategoryEntity! @relation(name: ArticleCategoryEntity)
	"""分类下面的子分类"""
	children: [ArticleCategoryEntity]! @relation(name: ArticleCategoryEntity)
	"""分类下面的文章"""
	articles: [ArticleEntity]! @relation(name: ArticleEntity)
	description: String! 
	create_time: DateTime! @createdAt
	update_time: DateTime! @updatedAt
}
"""文章评论表"""
type ArticleCommentEntity{
	article_comment_id: ID! @id
	content: String! 
	"""回复"""
	pid: Int! 
	from_user_id: String! 
	create_time: DateTime! @createdAt
	update_time: DateTime! @updatedAt
	article: ArticleEntity! @relation(name: ArticleEntity)
}
type LoggerEntity{
	logger_id: ID! @id
	description: String! 
	openid: String! 
	start_time: DateTime! 
	end_time: DateTime! 
	params: String! 
	ip: String! 
	result: String! 
	permissions: String! 
}
type MemberEntity{
	member_id: ID! @id
	name: String! 
	realname: String! 
	phone: String! 
	openid: String! 
	email: String! 
	username: String! 
	password: String! 
	salt: String! 
	create_time: DateTime! @createdAt
	update_time: DateTime! @updatedAt
}
type MessageEntity{
	msg_id: ID! @id
	content: String! 
	msg_type: Int! 
	pic_url: String! 
	media_id: Int! 
	thumb_media_id: Int! 
	location_x: String! 
	location_y: String! 
	label: String! 
	title: String! 
	url: String! 
	description: String! 
	from_user: String! 
	to_user: String! 
	create_time: DateTime! @createdAt
	update_time: DateTime! @updatedAt
}
type AddonEntity{
	appid: ID! @id
	pid: Int! 
	appsecret: String! 
	icon: String! 
	name: String! 
	title: String! 
	description: String! 
	status: Int! 
	create_time: DateTime! @createdAt
	update_time: DateTime! @updatedAt
	"""应用权限
一个应用有多个权限
一个权限也可以有多个应用"""
	permissions: [PermissionEntity]! @relation(name: PermissionEntity)
}
type OrganizationEntity{
	organization_id: ID! @id
	name: String! 
	title: String! 
	description: String! 
	create_time: DateTime! @createdAt
	update_time: DateTime! @updatedAt
	displayorder: Int! 
}
"""应用权限表"""
type PermissionEntity{
	id: ID! @id
	"""英文代号
格式: addonName.permissionName
唯一"""
	name: String! 
	"""上级"""
	father_name: String! 
	"""汉语名称"""
	title: String! 
	"""权限简介"""
	decription: String! 
	"""权限值,即操作符
如：read,write,all..."""
	value: [String]! 
	"""图标"""
	icon: String! 
	"""状态 -1禁止，0开发中,1正常"""
	status: Int! 
	"""排序"""
	displayorder: Int! 
	"""创建时间"""
	create_time: DateTime! @createdAt
	"""更新时间"""
	update_time: DateTime! @updatedAt
	"""常用的，所以定义一下，查询后挂载到Permission上拥有此权限的所有模块"""
	addons: [AddonEntity]! @relation(name: AddonEntity)
	"""拥有此权限的所有用户"""
	users: [UserEntity]! @relation(name: UserEntity)
	"""拥有此权限的所有角色"""
	roles: [RoleEntity]! @relation(name: RoleEntity)
}
type RoleEntity{
	role_id: ID! @id
	name: String! 
	title: String! 
	description: String! 
	create_time: DateTime! @createdAt
	update_time: DateTime! @updatedAt
	"""角色权限，常用，定义一下"""
	permissions: [PermissionEntity]! @relation(name: PermissionEntity)
}
type UserEntity{
	user_id: ID! @id
	openid: String! 
	unionid: String! 
	username: String! 
	password: String! 
	salt: String! 
	realname: String! 
	nickname: String! 
	avatar: String! 
	phone: String! 
	email: String! 
	sex: Int! 
	create_time: DateTime! @createdAt
	update_time: DateTime! @updatedAt
	"""常用，定义一下用户拥有的权限，一个用户可以有多个权限"""
	permissions: [PermissionEntity]! @relation(name: PermissionEntity)
	"""用户拥有的角色，一个用户可以分配多个角色"""
	roles: [RoleEntity]! 
	"""用户所属组织，一个用户可以有多个组织，"""
	organizations: [OrganizationEntity]! 
}
type UserRoleEntity{
	user_role_id: ID! @id
	openid: String! 
	role_id: Int! 
}
type PostEntity{
	post_id: ID! @id
	title: String! 
	content: String! 
	status: Int! 
	handler_user: String! 
	create_time: DateTime! @createdAt
	update_time: DateTime! @updatedAt
}
type PostCategoryEntity{
	post_post_category_idid: ID! @id
	title: String! 
	icon: String! 
	description: String! 
	create_time: DateTime! @createdAt
	update_time: DateTime! @updatedAt
}
type AccessTokenEntity{
	access_token_id: ID! @id
	"""根据access_token查询用户Openid，添加Index"""
	access_token: String! 
	openid: String! 
	appid: String! 
	ip: String! 
	platform: String! 
	grant_type: Int! 
	scope: String! 
	expires_in: DateTime! 
	create_time: DateTime! @createdAt
	update_time: DateTime! @updatedAt
	status: Int! 
	"""刷新凭证"""
	refreshToken: RefreshTokenEntity! @relation(name: RefreshTokenEntity)
}
type RefreshTokenEntity{
	refresh_token_id: ID! @id
	token: AccessTokenEntity! @relation(name: AccessTokenEntity)
	refresh_token: String! 
	expires_in: DateTime! 
	create_time: DateTime! @createdAt
	update_time: DateTime! @updatedAt
}
